(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b26734f6"],{"2fd0":function(e,t,i){"use strict";var r=i("964b"),s=i.n(r);s.a},"6db0":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[0===e.step?[i("h5-input",{staticClass:"h5-input-email",attrs:{type:"text",clearable:"",focus:"",placeholder:"请输入绑定的邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),i("button",{staticClass:"H5-btn H5-btn-primary next-step",attrs:{type:"button",disabled:""===e.email},on:{click:e.step1}},[e._v("下一步 ")])]:1===e.step?[e._m(0),i("div",{staticClass:"verify-container"},[i("h5-input",{staticClass:"h5-input-verify",attrs:{type:"text",clearable:"",focus:"",placeholder:"请输入验证码"},model:{value:e.verify,callback:function(t){e.verify=t},expression:"verify"}}),i("span",{staticClass:"verify-a",style:{color:0!==e.verifyFrozenTime?"#C0C0C0":"#FF6100"},on:{click:e.getVerify}},[e._v(" "+e._s(0===e.verifyFrozenTime?e.verifyFrozenTimer?"重新获取":"点击获取":e.verifyFrozenTime+"s后重试")+" ")])],1),i("button",{staticClass:"H5-btn H5-btn-primary next-step",attrs:{type:"button",disabled:""===e.verify},on:{click:e.step2}},[e._v("确认 ")])]:2===e.step?[i("alter-psw")]:e._e(),i("V5Dialog",{ref:"v5dialog",attrs:{host:e.v5Cfg.host,token:e.v5Cfg.token}})],2)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"verify-tip"},[i("img",{staticClass:"email-safe",attrs:{src:"/email-safe.png",mode:"widthFix",alt:""}}),i("div",{staticClass:"tip-txt"},[i("div",[e._v("为了您的账号安全，需要验证您的邮箱")]),i("div",[e._v("ccy*****163.com")])])])}],a=(i("c975"),i("e7a5")),n=i("1fc9"),o=i("eaf5"),l={name:"alterpsw-by-email",components:{alterPsw:a["a"],V5Dialog:n["V5Dialog"],h5Input:o["a"]},data:function(){return{v5Cfg:{host:"",token:""},email:"",verify:"",verifyFrozenTime:0,verifyFrozenTimer:void 0,step:0}},created:function(){var e=this;this.$util.request({url:"/customer/login/verify/token"}).then((function(t){e.v5Cfg={host:e.$util.verify.host,token:t?t.data:"",trustLevel:e.$util.verify.trustLevel}})).catch((function(e){console.error(e)}));var t=this.$util.getUrlParam("username")||"";-1!==t.indexOf("@")&&(this.email=t)},methods:{step1:function(){var e=this,t=/^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/;if(t.test(this.email)){var i=this;this.$refs.v5dialog.verify((function(t){i.$util.verify.valid2nd(t,(function(){console.log("verify success"),e.step=1}),(function(){console.log("verify fail")}))}))}else;},getVerify:function(){if(0===this.verifyFrozenTime){var e=this;this.verifyFrozenTime=60;var t=setInterval((function(){e.verifyFrozenTime=e.verifyFrozenTime-1,0===e.verifyFrozenTime&&(clearInterval(t),this.verifyFrozenTimer=void 0)}),1e3);this.verifyFrozenTimer=t}},step2:function(){this.verifyFrozenTimer&&clearInterval(this.verifyFrozenTimer),this.step=2}}},c=l,f=(i("2fd0"),i("2877")),v=Object(f["a"])(c,r,s,!1,null,"afaa8696",null);t["default"]=v.exports},"964b":function(e,t,i){}}]);
//# sourceMappingURL=chunk-b26734f6.5c351b42.js.map